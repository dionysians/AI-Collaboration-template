# General Development Template
# 通用项目开发模板 - 融合三大框架

id: general-development
name: General Development
description: |
  通用项目开发模板，融合了三大框架的最佳实践：
  - 结构：BMAD-METHOD 的 Epic → Story → AC 分层规划
  - 执行：Superpowers 的 TDD 强制 + 系统调试 + 两阶段审查
  - 配置：everything-claude-code 的 agents/hooks/rules/skills 体系
  - 规格：四层级 Spec 体系（Project/Domain/Contract/Flow）渐进式采用
  支持场景化工作流（/feature, /bugfix, /hotfix, /spike）和渐进式采用。

# 适用工具
tools:
  - claude-code

# 标签
tags:
  - general
  - tdd
  - agile
  - methodology
  - spec-first

# 版本信息
version: 1.2.0
created_at: 2026-01-26
updated_at: 2026-02-13

# 设计来源
sources:
  - framework: everything-claude-code
    borrowed:
      - agents/hooks/rules/skills 配置体系
      - Hooks 内联 Node.js 模式
      - 代码审查分级 (CRITICAL/HIGH/MEDIUM/LOW)
  - framework: superpowers
    borrowed:
      - Iron Laws (测试先行/根因调查/验证后声称)
      - TDD 强制 (RED-GREEN-REFACTOR)
      - 系统化调试四阶段
      - 两阶段审查 (规格合规 + 代码质量)
  - framework: bmad-method
    borrowed:
      - Epic → Story → AC 结构化规划
      - Story 验收标准 (Given/When/Then)
      - Story 执行引擎 (dev-story workflow)
      - Definition of Done
  - reference: spec-doc-guideline
    borrowed:
      - 四层级 Spec 体系 (Project/Domain/Contract/Flow)
      - Spec 更新原则 (原地更新/版本化/按迭代新增)
      - ADR 与 Spec 集成
      - Evolution Log / Timeline

# 包含内容
includes:
  - path: CLAUDE.md
    description: 项目规则主文件（唯一必读）
  - path: .aiwork/OVERVIEW.md
    description: 模板结构化概览（/template-info 数据源）
  - path: .aiwork/templates/spec/
    description: Spec 模板文件（/architecture 按需创建 spec/ 时的格式参考）
  - path: .aiwork/docs/decisions/
    description: 模板设计决策文档
  - path: .claude/settings.json
    description: Hooks 配置（5 hooks）
  - path: .claude/rules/
    description: 基础规范（4 rules）
    items:
      - name: coding-style
        description: 代码风格：不可变性、函数 ≤50 行、文件 ≤800 行
      - name: testing
        description: 测试规范：TDD 强制、覆盖率 ≥80%
      - name: security
        description: 安全规范：密钥管理、输入验证、注入防护
      - name: git-workflow
        description: Git 约定：commit 格式、分支命名
  - path: .claude/skills/
    description: 工作流引擎（3 skills）
    items:
      - name: story-execution
        description: Story 执行引擎：动态 Task 拆解 + TDD
      - name: systematic-debugging
        description: 四阶段系统调试
      - name: verification-loop
        description: 8 阶段验证循环
  - path: .claude/commands/
    description: 用户命令（12 commands）
    items:
      - name: feature
        description: 完整功能开发（全管线编排器）
      - name: roadmap
        description: 项目路线图（Spec vs Code Gap Analysis）
      - name: clarify
        description: 需求澄清 → PRD
      - name: architecture
        description: 交互式生成 Spec 四层级体系
      - name: plan
        description: 结构化规划（4 阶段 BMAD 流程）
      - name: review
        description: 两阶段代码审查
      - name: verify
        description: 完整验证循环
      - name: bugfix
        description: 系统化 Bug 修复
      - name: hotfix
        description: 紧急修复
      - name: spike
        description: 探索验证
      - name: decide
        description: 架构决策 ADR
      - name: pivot
        description: 方向调整
  - path: .claude/agents/
    description: 专业化 Agent（2 agents）
    items:
      - name: planner
        description: 规划专家（BMAD 4 阶段，双模式，Spec 感知）
      - name: code-reviewer
        description: 两阶段代码审查（规格合规 + 代码质量）
  # 以下目录由命令按需创建（不随模板安装）：
  # - docs/plans/    — /clarify 和 /plan 按需创建
  # - spec/          — /architecture 按需创建
