# 方向调整 (/pivot)

当发现当前方向有问题时，安全地调整方向。

## 使用场景

- 代码审查发现方向性错误
- 实现过程中发现需求理解有误
- 技术选型被证明不可行
- 3+ 次修复失败，疑似架构问题

## 三种场景

### 场景 1：整个方向错误

```
现象：实现与需求严重偏离，或架构根本不合理

处理：
1. 保存当前分支（不删除，留作参考）
   git checkout -b backup/<原分支名>
2. 回到 main 分支
3. 重新 /clarify 需求
4. 重新 /plan
```

### 场景 2：部分方向错误

```
现象：某个 Story 的实现方向不对，但整体 Plan 没问题

处理：
1. 识别需要调整的 Story
2. 更新 Plan 中受影响的 Story 和 AC
3. 从调整点继续执行
4. 已完成的正确 Story 不受影响
```

### 场景 3：技术选型错误

```
现象：选择的技术/库/模式被证明不适合

处理：
1. 记录当前方案的问题（可用 /decide 创建 ADR）
2. /spike 探索替代方案
3. 确认新方案可行后重新实现
```

## 执行流程

1. **评估**：当前方向哪里错了？
2. **分类**：属于哪种场景？
3. **保存**：确保不丢失已有工作
4. **调整**：按场景处理
5. **确认**：与用户确认新方向后再继续

## 重要规则

- **不要在错误方向上打补丁** — 越改越复杂
- **保存而非删除** — 当前代码可能有参考价值
- **先停后改** — 不要边调整边继续开发
- **需要用户确认** — 方向调整是重大决策
